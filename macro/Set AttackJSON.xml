<net.rptools.maptool.model.MacroButtonProperties>
  <macroUUID>39204e37-46f6-4b66-ab80-9f78e6c0c3b4</macroUUID>
  <saveLocation/>
  <index>16</index>
  <colorKey>teal</colorKey>
  <hotKey>None</hotKey>
  <command>
[h: ATTACK_JSON = "attackJSON"]
[h: NAME = "name"]
[h: ATK_BONUS = "atkBonus"]
[h: DMG_BONUS = "dmgBonus"]
[h: DMG_DIE = "dmgDie"]
[h: DMG_DICE = "dmgDice"]
[h: CRIT_BONUS_DICE = "critBonusDice"]
[h: DMG_TYPE = "dmgType"]
[h: DMG_BONUS_EXPR = "dmgBonusExpr"]
[h: NEW_ATTACK = "NewAttack"]

[h: blankJsonArry = "[]"]
[h: blankJsonObj = "{}"]
[h: blankText = ""]
[h: abort( input( " nothing | first | You might want to run Print AttackJSON macro | label",
	" nothing | reset | You can reinitialize the array by inputting | label",
	" newAttackJson | [] | New AtackJson | text | width=64"))]
[h: isBlank = json.equals(blankJsonArry, newAttackJson) + json.equals(blankJsonObj, newAttackJson) + json.equals(blankText, newAttackJson)]

[s, r, if (isBlank &gt; 0): "Aborting execution due to empty input"; ""]
[h: newAttackJson = if (json.equals("reset", newAttackJson) == 1, "[]", newAttackJson)]
[h, if (isBlank == 0): setProperty(ATTACK_JSON, newAttackJson); ""]	
[r, macro( "Print AttackJSON@global"): ""]</command>
  <label>Set AttackJSON</label>
  <group>Attack</group>
  <sortby>10</sortby>
  <autoExecute>true</autoExecute>
  <includeLabel>false</includeLabel>
  <applyToTokens>true</applyToTokens>
  <fontColorKey>black</fontColorKey>
  <fontSize>1.00em</fontSize>
  <minWidth/>
  <maxWidth/>
  <allowPlayerEdits>true</allowPlayerEdits>
  <toolTip>Utility macro to apply an arbitrary JSON value for the property attackJSON. Currently no validation is done to ensure a proper format. While empty JSON objects are ignored to prevent accidental overwrites, the value "reset" will reset the object to a blank value.</toolTip>
  <displayHotKey>true</displayHotKey>
  <commonMacro>false</commonMacro>
  <compareGroup>true</compareGroup>
  <compareSortPrefix>true</compareSortPrefix>
  <compareCommand>true</compareCommand>
  <compareIncludeLabel>true</compareIncludeLabel>
  <compareAutoExecute>true</compareAutoExecute>
  <compareApplyToSelectedTokens>true</compareApplyToSelectedTokens>
</net.rptools.maptool.model.MacroButtonProperties>
